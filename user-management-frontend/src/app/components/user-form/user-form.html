<section class="py-5">
  <div class="container">
    <div class="col-md-7 col-lg-4 mx-auto">
      <h2 class="mb-4">
        @if (isEditMode()) {
        Edit User
        } @else {
        Create User
        }
      </h2>

      <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <div class="form-floating mb-3">
          <input type="text" class="form-control" formControlName="name" id="floatingName" placeholder="Name">
          <label for="floatingName">Name</label>
          @if (form.get('name')?.touched && form.get('name')?.invalid) {
          <div class="text-danger mt-1">
            Name is required.
          </div>
          }
        </div>

        <div class="form-floating mb-3">
          <input type="email" class="form-control" formControlName="email" id="floatingEmail" placeholder="Email">
          <label for="floatingEmail">Email</label>
          @if (form.get('email')?.touched && form.get('email')?.invalid) {
          <div class="text-danger mt-1">
            Please enter a valid email.
          </div>
          }
        </div>

        <div class="form-floating mb-3">
          <input type="password" class="form-control" formControlName="password" id="floatingPassword"
            placeholder="Password">
          <label for="floatingPassword">
            @if (isEditMode()) {
            Password (optional)
            } @else {
            Password (required)
            }
          </label>
        </div>

        <button type="submit" class="btn btn-lg btn-primary w-100" [disabled]="form.invalid || loading()">
          @if (loading()) {
          <app-spinner></app-spinner>
          } @else {

          @if (isEditMode()) {
          <i class="bi bi-floppy me-2"></i>
          Save
          } @else {
          <i class="bi bi-send-plus me-2"></i>
          Create
          }
          }
        </button>
      </form>
    </div>
  </div>
</section>